<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
	<link rel="stylesheet" th:href="@{/css/base.css}">
	<link rel="stylesheet" th:href="@{/css/layout.css}">
	<link rel="stylesheet" th:href="@{/css/index.css}">
</head>
<body>
    <div class="container">
        <h1 th:if="${#authentication.isAuthenticated()}">
            Bienvenido <span th:text="${#authorization.expression('hasRole(''ADMIN'')') ? 'Administrador' 
                           : (#authorization.expression('hasRole(''CLIENT'')') ? 'Cliente' 
                           : (#authorization.expression('hasRole(''EMPLOYEE'')') ? 'Empleado' : 'Usuario'))}"></span>
        </h1>

        <form th:action="@{/auth/logout}" method="post">
            <button type="submit">Cerrar Sesion</button>
        </form>
        <a th:href="@{/servicio/list}">Ver Servicios</a>
		
		<div sec:authorize="hasRole('CLIENT')">
			<a th:href="@{/turno/elegir-servicio}">Pedir Turno</a>
		</div>
		
		<div sec:authorize="hasAnyRole('CLIENT', 'EMPLOYEE')">
			<a th:href="@{/turno/lista-turnos}">Ver Turnos</a>
			<a th:href="@{/contacto/mis-datosContacto}">Ver mis datos de contacto</a>
		</div>

        <div sec:authorize="hasRole('ADMIN')" class="admin-links">
            <a th:href="@{/cliente/list}">Ver Clientes</a>
            <a th:href="@{/empleado/list}">Ver Empleados</a>
            <a th:href="@{/ubicacion/list}">Ver Ubicaciones</a>
			<a th:href="@{/turno/lista-turnos-admin}">Ver Turnos</a>
        </div>
    </div>
</body>
</html>